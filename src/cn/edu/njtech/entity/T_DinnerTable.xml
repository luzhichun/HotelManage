<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"     
"http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap>
    <typeAlias alias="Dinnertable" type="cn.edu.njtech.entity.Dinnertable" />    
    <select id="selectTable" parameterClass="Dinnertable" resultClass="Dinnertable">
    	<!-- t_user是数据库的表名 -->
       select * from dinnerTable where tablename like concat('%', #tablename#, '%')
    </select>
    <insert id="insertTable" parameterClass="Dinnertable">
    	insert into dinnerTable(tablename,tablestatus,orderdate) values(#tablename#,#tablestatus#,#orderdate#)
    	<selectKey resultClass="int" keyProperty="id">
			SELECT @@IDENTITY AS ID
		</selectKey>
    </insert>
    <delete id="deleteTable" parameterClass="java.lang.Integer">
    	delete from dinnerTable where tableId=#tableid#
    </delete>
    <update id="updateTable" parameterClass="java.lang.Integer">
    	UPDATE dinnerTable SET tablestatus=0,orderdate=null WHERE tableId=#tableid#
    </update>
    <select id="selectTableById" parameterClass="java.lang.Integer" resultClass="Dinnertable">
    	select * from dinnerTable where tableId=#tableid#
    </select>
</sqlMap>