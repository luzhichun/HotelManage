<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"     
"http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap>
    <typeAlias alias="DinnerTable" type="cn.edu.njtech.entity.DinnerTable" />    
    <select id="selectTable" parameterClass="DinnerTable" resultClass="DinnerTable">
    	<!-- t_user是数据库的表名 -->
       select * from dinnerTable where tableName like concat('%', #tableName#, '%')
    </select>
    <insert id="insertTable" parameterClass="DinnerTable">
    	insert into dinnerTable(tableName,tableStatus,orderDate) values(#tableName#,#tableStatus#,#orderDate#)
    	<selectKey resultClass="int" keyProperty="id">
			SELECT @@IDENTITY AS ID
		</selectKey>
    </insert>
    <delete id="deleteTable" parameterClass="java.lang.Integer">
    	delete from dinnerTable where id=#id#
    </delete>
    <update id="updateTable" parameterClass="java.lang.Integer">
    	UPDATE dinnerTable SET tableStatus=0,orderDate=null WHERE id=#id#
    </update>
    <select id="selectTableById" parameterClass="java.lang.Integer" resultClass="DinnerTable">
    	select * from dinnerTable where id=#id#
    </select>
</sqlMap>